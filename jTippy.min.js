/*
	jTippy
	https://github.com/HTMLGuyLLC/jTippy
	Made with love by HTMLGuy, LLC
	https://htmlguy.com
	MIT Licensed
*/
(function(a){a.fn.jTippy=function(b){if(1<this.length)return this.each(function(){a(this).jTippy(b)}),this;if('undefined'==typeof this||1!==this.length)return!1;b=a.extend({},a.jTippy.defaults,b,a(this).data()),b.class+=' jt-'+b.theme+'-theme',b.class+=' jt-'+b.size,'click'!==b.trigger&&(b.backdrop=!1),b.trigger=b.trigger.toLowerCase().trim();let c={dom:this,dom_wrapped:a(this),position_debug:b.position_debug,trigger:b.trigger,title:b.title,theme:b.theme,class:b.class,backdrop:b.backdrop,position:b.position,close_on_outside_click:b.close_on_outside_click,singleton:b.singleton,dataAttr:'jTippy',createTooltipHTML:function(){return`<div class='jtippy ${c.class}' role='tooltip'><div class='jt-arrow'></div><div class='jt-title'>${c.title}</div></div>`},createBackdropHTML:function(){return!!c.backdrop&&`<div class='jt-backdrop jt-${c.backdrop}-backdrop'></div>`},destroy:function(){const d=c.dom_wrapped.data(c.dataAttr);'undefined'!=typeof d&&null!==d&&('click'===d.trigger?(d.dom_wrapped.off('touchstart mousedown',d.toggleTooltipHandler),d.dom_wrapped.off('click',d.preventDefaultHandler)):'focus'===d.trigger?(d.dom_wrapped.off('touchstart focus',d.show),d.dom_wrapped.off('touchend blur',d.hide)):'hover'===d.trigger?(d.dom_wrapped.off('touchstart mouseenter',d.show),d.dom_wrapped.off('touchend mouseleave',d.hide)):'hoverfocus'===d.trigger&&(d.dom_wrapped.off('focus',d.hoverfocusFocusShow),d.dom_wrapped.off('blur',d.hoverfocusBlur),d.dom_wrapped.off('touchstart mouseenter',d.show),d.dom_wrapped.off('touchend mouseleave',d.hoverfocusHide)),a(window).off('resize',d.onResize),d.isVisible()&&d.hide(),d.dom_wrapped.data(d.dataAttr,null))},initialize:function(){return'click'===c.trigger?(c.dom_wrapped.on('touchstart mousedown',c.toggleTooltipHandler),c.dom_wrapped.on('click',c.preventDefaultHandler)):'focus'===c.trigger?(c.dom_wrapped.on('touchstart focus',c.show),c.dom_wrapped.on('touchend blur',c.hide)):'hover'===c.trigger?(c.dom_wrapped.on('touchstart mouseenter',c.show),c.dom_wrapped.on('touchend mouseleave',c.hide)):'hoverfocus'===c.trigger&&(c.dom_wrapped.on('focus',c.hoverfocusFocusShow),c.dom_wrapped.on('blur',c.hoverfocusBlur),c.dom_wrapped.on('touchstart mouseenter',c.show),c.dom_wrapped.on('touchend mouseleave',c.hoverfocusHide)),'click'!==c.trigger&&c.dom_wrapped.on('touchstart mousedown',c.hide),a.jTippy.body_click_initialized||(a(document).on('touchstart mousedown',c.onClickOutside),a.jTippy.bodyClickInitialized=!0),c.dom_wrapped.data(c.dataAttr,c),c.dom},hoverfocusFocusShow:function(){c.dom_wrapped.addClass('jt-focused'),c.dom_wrapped.show()},hoverfocusBlur:function(){c.dom_wrapped.removeClass('jt-focused'),c.hide()},hoverfocusHide:function(){return!c.dom_wrapped.hasClass('jt-focused')&&void c.hide()},preventDefaultHandler:function(d){return d.preventDefault(),!1},toggleTooltipHandler:function(d){return d.preventDefault(),c.isVisible()&&c.hide()||c.show(),!1},show:function(d){if(c.isVisible())return!1;c.singleton&&c.hideAllVisible();const f=a('body');'blurred'===c.backdrop?f.addClass('jt-blurred-body'):c.backdrop&&f.append(c.createBackdropHTML()),f.append(c.createTooltipHTML()),c.tooltip=a('.jtippy:last'),c.positionTooltip(),a(window).on('resize',c.onResize);const g='jTippy'+Date.now();c.tooltip.attr('id',g),c.dom.attr('aria-describedby',g),a.jTippy.visible.push(c),('undefined'==typeof d||d)&&c.dom.trigger('jt-show',{tooltip:c.tooltip})},isVisible:function(){return-1<a.inArray(c,a.jTippy.visible)},hideAllVisible:function(){return a.each(a.jTippy.visible,function(d,f){f.hide()}),this},hide:function(d){a(window).off('resize',c.onResize),c.dom.attr('aria-describedby',null),c.tooltip.remove(),'blurred'===c.backdrop?a('body').removeClass('jt-blurred-body'):c.backdrop&&a('.jt-backdrop').remove(),('undefined'==typeof d||d)&&c.dom.trigger('jt-hide'),'click'!==c.trigger&&c.dom_wrapped.off('touchstart mousedown',c.hide);var f=a.inArray(c,a.jTippy.visible);return a.jTippy.visible.splice(f,1),c.dom},onResize:function(){c.hide(!1),c.show(!1)},onClickOutside:function(d){const f=a(d.target);f.hasClass('jtippy')||f.parents('.jtippy:first').length||a.each(a.jTippy.visible,function(g,h){'undefined'!=typeof h&&'click'===h.trigger&&h.close_on_outside_click&&h.hide()})},positionTooltip:function(){c.positionDebug('-- Start positioning --');let d=c.tooltip.find('.jt-arrow'),[f,g,h,i,j,k]=c.calculateSafePosition(c.position);return('undefined'==typeof j&&'auto'!==c.position&&(c.positionDebug('Couldn\'t fit preferred position'),[f,k,j,k,j,k]=c.calculateSafePosition('auto')),'undefined'==typeof j)?(c.positionDebug('Doesn\'t appear to fit. Displaying centered'),c.tooltip.addClass('jt-centered').css({top:'50%',left:'50%','margin-left':-(h/2),'margin-top':-(i/2)}),d.remove(),void c.positionDebug('-- Done positioning --')):(c.positionDebug({'Setting Position':{Left:j,Top:k}}),c.tooltip.css('left',j),c.tooltip.css('top',k),60>g&&(c.positionDebug('Element is less than '+g+'px. Setting arrow to hug the side tighter'),f+=' jt-arrow-super-hug'),d.addClass('jt-arrow-'+f),c.positionDebug('-- Done positioning --'),c)},calculateSafePosition:function(d){let f=c.tooltip.find('.jt-arrow'),g=c.dom_wrapped.offset(),h=c.dom_wrapped.outerHeight(),i=c.dom_wrapped.outerWidth(),j=parseInt(c.dom_wrapped.css('marginLeft').replace('px','')),k=parseInt(c.dom_wrapped.css('marginTop').replace('px',''));g.left+=j,g.top+=k;let l=c.tooltip.outerWidth(),m=c.tooltip.outerHeight(),n=document.querySelector('body').offsetWidth,o=document.querySelector('body').offsetHeight,p=f.is(':visible')?f.outerHeight():0,q=f.is(':visible')?f.outerWidth():0,r={};r.below=5<o-(m+h+g.top),r.below_half=5<o-i/2-g.top-m/2,r.above=5<g.top-m,r.above_half=5<g.top-i/2-m/2,r.right=5<n-(l+i+g.left),r.right_half=5<n-g.left-i/2-l/2,r.right_full=5<n-g.left-l,r.left=5<g.left-l,r.left_half=5<g.left-i/2-l/2,r.left_full=5<g.left-l,c.positionDebug({'Clicked Element':{Left:g.left,Top:g.top}}),c.positionDebug({'Element Dimensions':{Height:h,Width:i},'Tooltip Dimensions':{Height:m,Width:l},'Window Dimensions':{Height:o,Width:n},'Arrow Dimensions':{Height:p,Width:q}}),c.positionDebug(r);let s,t,u;return('auto'===d||'bottom'===d)&&r.below&&r.left_half&&r.right_half?(c.positionDebug('Displaying below, centered'),s='top',t=g.left-l/2+i/2,u=g.top+h+p/2):('auto'===d||'top'===d)&&r.above&&r.left_half&&r.right_half?(c.positionDebug('Displaying above, centered'),s='bottom',t=g.left-l/2+i/2,u=g.top-m-p/2):('auto'===d||'left'===d)&&r.left&&r.below_half&&r.above_half?(c.positionDebug('Displaying left, centered'),s='right',t=g.left-l-q/2,u=g.top+h/2-m/2):('auto'===d||'right'===d)&&r.right&&r.below_half&&r.above_half?(c.positionDebug('Displaying right, centered'),s='left',t=g.left+i+q/2,u=g.top+h/2-m/2):('auto'===d||'bottom'===d)&&r.below&&r.right_full?(c.positionDebug('Displaying below, to the right'),s='top jt-arrow-hug-left',t=g.left,u=g.top+h+p/2):('auto'===d||'bottom'===d)&&r.below&&r.left_full?(c.positionDebug('Displaying below, to the left'),s='top jt-arrow-hug-right',t=g.left+i-l,u=g.top+h+p/2):('auto'===d||'top'===d)&&r.above&&r.right_full?(c.positionDebug('Displaying above, to the right'),s='bottom jt-arrow-hug-left',t=g.left,u=g.top-m-p/2):('auto'==d||'top'==d)&&r.above&&r.left_full&&(c.positionDebug('Displaying above, to the left'),s='bottom jt-arrow-hug-right',t=g.left+i-l,u=g.top-m-p/2),[s,i,l,m,t,u]},positionDebug:function(d){return!!c.position_debug&&('object'==typeof d?console.table(d):console.log(`Position: ${d}`))}};return c.destroy(),c.initialize()},a.jTippy={},a.jTippy.visible=[],a.jTippy.body_click_initialized=!1,a.jTippy.defaults={title:'',trigger:'hoverfocus',position:'auto',class:'',theme:'black',size:'small',backdrop:!1,singleton:!0,close_on_outside_click:!0}})(jQuery);